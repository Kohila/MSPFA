@use 'sass:map';
@use 'styles/general' as *;
@use 'styles/themes' as *;
@use 'styles/inputs' as *;

@font-face {
	font-family: Homestuck-Regular;
	src: url(/fonts/Homestuck-Regular/index.eot);
	src: url(/fonts/Homestuck-Regular/index.eot?#iefix) format('embedded-opentype'),
		url(/fonts/Homestuck-Regular/index.woff2) format('woff2'),
		url(/fonts/Homestuck-Regular/index.woff) format('woff'),
		url(/fonts/Homestuck-Regular/index.ttf) format('truetype'),
		url(/fonts/Homestuck-Regular/index.svg#Homestuck-Regular) format('svg');
	font-weight: normal;
	font-style: normal;
}

* {
	outline: none;
	-webkit-tap-highlight-color: transparent;
	-webkit-focus-ring-color: transparent;
}

// Load standard theme.
:root {
	@each $theme-variable, $value in $standard-theme {
		--#{$theme-variable}: #{$value};
	}
}

// Load all themes other than standard theme.
@each $theme-id, $theme in map.remove($themes, standard) {
	.theme-#{$theme-id} {
		@each $theme-variable, $value in $theme {
			--#{$theme-variable}: #{$value};
		}
	}
}

body {
	margin: 0;
	// This makes the scrollbar not change visibility and offset the page horizontally when changing the page height, for example by toggling tall spoilers on a short page.
	overflow-y: scroll;
	@include theme(background-color, back-color);
	word-break: break-word;
}

body,
input,
// This is to stop the browser from changing the font of the `input` while hovering over autocomplete options.
input:-webkit-autofill::first-line,
textarea,
select,
option {
	font-family: $monospace;
	font-weight: bold;
	@include theme(color, text-color);
}

iframe {
	border: none;
}

summary {
	cursor: pointer;
}

.mid {
	@include theme(background-color, mid-color);
}

.front {
	@include theme(background-color, front-color);
}

.front-alt {
	@include theme(background-color, front-alt-color);
	@include theme(color, text-alt-color);
}

input, textarea, select, option {
	@include theme(background-color, input-color);
}

.translucent-text {
	opacity: 0.7;

	&.link:not(:focus, :active) {
		@include theme(color, text-color);
	}
}

.spaced {
	& + & {
		margin-left: 1ch;
	}
}

.red {
	color: #ff0000;
}

.bolder {
	text-shadow: 0.25px 0 currentColor;
}

.left {
	text-align: left;
}

.center {
	text-align: center;
}

.right {
	text-align: right;
}

.justify {
	text-align: justify;
}